import pymel.core as pm
'''
此脚本用于：将面部子骨骼权重赋予面部根骨骼后，移除面部子骨骼权重
'''
obj = pm.selected()[0] #获取所选物体
objVtx = pm.ls('{}.vtx[*]'.format(obj),fl=True) #获取物体所有顶点
skClu = pm.listHistory(obj,type='skinCluster')[0] #获取SkinCluster
# 锁定所有骨骼权重
joints = pm.ls('root', dag=True, type="joint") 
for jnt in joints:
	pm.setAttr('{}.liw'.format(jnt), 1)
#解锁所有面部骨骼权重
faceJnt = pm.ls('head', dag=True, type="joint") 
for jnt in faceJnt:
	pm.setAttr('{}.liw'.format(jnt), 0)
#物体所有顶点权重赋予面部根骨骼	
for vtx in objVtx:
	pm.skinPercent(skClu, vtx, tv=('head', 1))
#移除面部子骨骼蒙皮
for jnt in faceJnt[1:]:	
	pm.skinCluster(skClu, e=1, ri=jnt)